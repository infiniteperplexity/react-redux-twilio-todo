'use strict';

var
  assert = require('assert'),
  expressUtils = require('../');


describe('defaultSessionParameters', function () {
  it('should set default parameters', function () {
    var req = {
      session: {}
    };

    expressUtils.defaultSessionParameters({test1: 'string1', test2: 'string2'})(req, null, function () {});

    assert.equal(req.session.test1, 'string1');
    assert.equal(req.session.test2, 'string2');
  });

  it('should set non existing default parameter and keep already set parameter', function () {
    var req = {
      session: {
        test1: 'string0'
      }
    };

    expressUtils.defaultSessionParameters({test1: 'string1', test2: 'string2'})(req, null, function () {});

    assert.equal(req.session.test1, 'string0');
    assert.equal(req.session.test2, 'string2');
  });
});